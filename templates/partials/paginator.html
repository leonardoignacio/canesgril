<section class="pagination-area section-padding-20-0">
  <div class="container">
    {% if lista_pratos.has_other_pages %}
      {% if buscar %}
        {% with rota="?buscar="|add:buscar|add:"&" %}
          <ul class="pagination justify-content-center">
            {% if lista_pratos.has_previous %}
              <li class="page-item">
                <a class="page-link" href="{{ rota }}page={{ lista_pratos.previous_page_number }}">« Anterior</a>
              </li>
            {% else %}
              <li class="page-item disabled">
                <span class="page-link">«</span>
              </li>
            {% endif %}

            {% for pagina in lista_pratos.paginator.page_range %}
              {% if lista_pratos.number == pagina %}
                <li class="page-item active">
                  <span class="page-link">{{ pagina }}</span>
                </li>
              {% else %}
                <li class="page-item">
                  <a class="page-link" href="{{ rota }}page={{ pagina }}">{{ pagina }}</a>
                </li>
              {% endif %}
            {% endfor %}

            {% if lista_pratos.has_next %}
              <li class="page-item">
                <a class="page-link" href="{{ rota }}page={{ lista_pratos.next_page_number }}">Próxima »</a>
              </li>
            {% else %}
              <li class="page-item disabled">
                <span class="page-link">»</span>
              </li>
            {% endif %}
          </ul>
        {% endwith %}
      {% else %}
        <ul class="pagination justify-content-center">
          {% if lista_pratos.has_previous %}
            <li class="page-item">
              <a class="page-link" href="?page={{ lista_pratos.previous_page_number }}">« Anterior</a>
            </li>
          {% else %}
            <li class="page-item disabled">
              <span class="page-link">«</span>
            </li>
          {% endif %}

          {% for pagina in lista_pratos.paginator.page_range %}
            {% if lista_pratos.number == pagina %}
              <li class="page-item active">
                <span class="page-link">{{ pagina }}</span>
              </li>
            {% else %}
              <li class="page-item">
                <a class="page-link" href="?page={{ pagina }}">{{ pagina }}</a>
              </li>
            {% endif %}
          {% endfor %}

          {% if lista_pratos.has_next %}
            <li class="page-item">
              <a class="page-link" href="?page={{ lista_pratos.next_page_number }}">Próxima »</a>
            </li>
          {% else %}
            <li class="page-item disabled">
              <span class="page-link">»</span>
            </li>
          {% endif %}
        </ul>
      {% endif %}
    {% endif %}
  </div>
</section>
